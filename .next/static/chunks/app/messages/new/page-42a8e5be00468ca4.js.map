{"version":3,"file":"static/chunks/app/messages/new/page-42a8e5be00468ca4.js","mappings":"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","sources":["webpack://_N_E/?6621","webpack://_N_E/?3f51","webpack://_N_E/./public/images/DefaultUserAvatar.tsx","webpack://_N_E/./app/messages/new/NewMessagePage.tsx","webpack://_N_E/./components/layouts/Backdrop.tsx","webpack://_N_E/./components/ui/Button.tsx","webpack://_N_E/./components/ui/IconWrapper.tsx","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js","webpack://_N_E/./public/images/UserAvatar.tsx","webpack://_N_E/./node_modules/next-view-transitions/dist/index.js"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"NewMessagePage\"] */ \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\app\\\\messages\\\\new\\\\NewMessagePage.tsx\");\n","import { createServerReference, callServer, findSourceMapURL } from 'private-next-rsc-action-client-wrapper'\nexport const createConversation = /*#__PURE__*/createServerReference(\"40a45ea36b9f590f5279bf88e972aa253d9f1e05a7\", callServer, undefined, findSourceMapURL, \"createConversation\")","export const DefaultUserAvatar = ({ className }: { className?: string }) => {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <g id=\"DefaultUserAvatar\" clipPath=\"url(#clip0_388_43)\">\r\n        <path\r\n          id=\"border\"\r\n          d=\"M1 10C1 11.1819 1.23279 12.3522 1.68508 13.4442C2.13738 14.5361 2.80031 15.5282 3.63604 16.364C4.47177 17.1997 5.46392 17.8626 6.55585 18.3149C7.64778 18.7672 8.8181 19 10 19C11.1819 19 12.3522 18.7672 13.4442 18.3149C14.5361 17.8626 15.5282 17.1997 16.364 16.364C17.1997 15.5282 17.8626 14.5361 18.3149 13.4442C18.7672 12.3522 19 11.1819 19 10C19 8.8181 18.7672 7.64778 18.3149 6.55585C17.8626 5.46392 17.1997 4.47177 16.364 3.63604C15.5282 2.80031 14.5361 2.13738 13.4442 1.68508C12.3522 1.23279 11.1819 1 10 1C8.8181 1 7.64778 1.23279 6.55585 1.68508C5.46392 2.13738 4.47177 2.80031 3.63604 3.63604C2.80031 4.47177 2.13738 5.46392 1.68508 6.55585C1.23279 7.64778 1 8.8181 1 10Z\"\r\n          stroke=\"black\"\r\n          strokeWidth=\"2\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n        <g id=\"filled\">\r\n          <path\r\n            id=\"Vector\"\r\n            d=\"M7 8C7 8.79565 7.31607 9.55871 7.87868 10.1213C8.44129 10.6839 9.20435 11 10 11C10.7956 11 11.5587 10.6839 12.1213 10.1213C12.6839 9.55871 13 8.79565 13 8C13 7.20435 12.6839 6.44129 12.1213 5.87868C11.5587 5.31607 10.7956 5 10 5C9.20435 5 8.44129 5.31607 7.87868 5.87868C7.31607 6.44129 7 7.20435 7 8Z\"\r\n            fill=\"black\"\r\n            stroke=\"black\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n          <g id=\"Vector_2\">\r\n            <path\r\n              d=\"M6 18C6.25459 16.8459 4.77555 15.8258 5.48559 15.1068C6.19563 14.3878 7.05692 13.9996 7.9417 14H12.0562C12.9421 13.9996 13.8045 14.3886 14.515 15.1093C15.2256 15.83 13.7464 16.8438 14 18\"\r\n              fill=\"black\"\r\n            />\r\n            <path\r\n              d=\"M6 18C6.25459 16.8459 4.77555 15.8258 5.48559 15.1068C6.19563 14.3878 7.05692 13.9996 7.9417 14H12.0562C12.9421 13.9996 13.8045 14.3886 14.515 15.1093C15.2256 15.83 13.7464 16.8438 14 18\"\r\n              stroke=\"black\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"clip0_388_43\">\r\n          <rect width=\"20\" height=\"20\" fill=\"white\" />\r\n        </clipPath>\r\n      </defs>\r\n    </svg>\r\n  );\r\n};\r\n","'use client';\r\nimport { createConversation } from '@/actions/messagesServerActions/createConversation';\r\nimport Backdrop from '@/components/layouts/Backdrop';\r\nimport Button from '@/components/ui/Button';\r\nimport IconWrapper from '@/components/ui/IconWrapper';\r\nimport { DefaultUserAvatar } from '@/public/images/DefaultUserAvatar';\r\nimport { UserAvatar } from '@/public/images/UserAvatar';\r\nimport { RegisteredUsers } from '@/types/types';\r\nimport { Link } from 'next-view-transitions';\r\nimport { useRouter } from 'next/navigation';\r\nimport React, { useState } from 'react';\r\nimport { toast } from 'sonner';\r\nexport const NewMessagePage = ({ users }: { users: RegisteredUsers[] }) => {\r\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n    const conversationData = {\r\n      sujet: formData.get('sujet') as string,\r\n      participantsId: selectedUsers,\r\n    };\r\n\r\n    const response = await createConversation(conversationData);\r\n    if (response?.ok) {\r\n      toast.success(response.message);\r\n      router.push(`/messages`);\r\n    } else {\r\n      console.error(response);\r\n      toast.error(response.message);\r\n    }\r\n  };\r\n  const toggleUserSelection = (userId: string) => {\r\n    setSelectedUsers((prev) =>\r\n      prev.includes(userId)\r\n        ? prev.filter((id) => id !== userId)\r\n        : [...prev, userId]\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Backdrop>\r\n      <div className=\"w-full max-w-[400px] h-fit max-h-[600px] flex flex-col gap-2 p-4 mx-2 bg-light-blue dark:bg-dark-bg rounded-xl\">\r\n        <Link href=\"/messages\">\r\n          <IconWrapper\r\n            type=\"plus\"\r\n            strokeWidth={2}\r\n            className=\"transform rotate-45\"\r\n          />\r\n        </Link>\r\n        <form\r\n          onSubmit={(e) => handleSubmit(e)}\r\n          className=\"w-full h-full flex flex-col gap-3\"\r\n        >\r\n          <p>Subject</p>\r\n          <input\r\n            type=\"text\"\r\n            name=\"sujet\"\r\n            placeholder=\"Sujet\"\r\n            className=\"p-2 border-2 rounded-lg\"\r\n          />\r\n          <p>Destinataires</p>\r\n          <div className=\"flex w-full max-h-[320px] no-scrollbar overflow-y-scroll\">\r\n            <ul className=\"w-full\">\r\n              {users?.map((user: RegisteredUsers) => (\r\n                <li\r\n                  key={user.id}\r\n                  className={`cursor-pointer flex gap-2 items-end my-2 border-2 rounded-lg p-2 ${selectedUsers.includes(user.id) ? 'border-light-yellow' : 'border-inherit'}`}\r\n                  onClick={() => toggleUserSelection(user.id)}\r\n                >\r\n                  {user.image ? (\r\n                    <UserAvatar src={user.image} />\r\n                  ) : (\r\n                    <DefaultUserAvatar className=\"size-12 opacity-40\" />\r\n                  )}\r\n                  <span>{user.email}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <Button width=\"100%\" type=\"submit\">\r\n            Create\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Backdrop>\r\n  );\r\n};\r\n","'use client';\r\nimport React, { useEffect } from 'react';\r\n\r\nexport default function Backdrop({ children }: { children: React.ReactNode }) {\r\n  useEffect(() => {\r\n    document.body.classList.add('no-scroll');\r\n    return () => {\r\n      document.body.classList.remove('no-scroll');\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"no-scrollbar pt-[100px] fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center overflow-y-scroll\">\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport React from 'react';\r\n\r\ntype ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  onClick?: () => void;\r\n  /** The width of the button, default is fit-content */\r\n  width?: string;\r\n  /** The type of button */\r\n  type?: 'button' | 'submit' | 'reset';\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport default function Button({\r\n  onClick,\r\n  width,\r\n  children,\r\n  type,\r\n}: ButtonProps) {\r\n  return (\r\n    <button\r\n      type={type || 'button'}\r\n      style={{ width: width || 'fit-content' }}\r\n      onClick={onClick}\r\n      className=\"inline-flex items-center justify-center px-4 py-1 border-2 text-lg rounded-lg bg-light-yellow text-dark-bg font-bold border-dark-bg hover:shadow-lg  transition-transform duration-300 ease-in-out \"\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n","'use client';\r\nimport { Icon, iconProps } from 'facu-ui';\r\n\r\nexport default function IconWrapper(props: iconProps) {\r\n  return <Icon {...props} />;\r\n}\r\n","// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    callServer: null,\n    createServerReference: null,\n    findSourceMapURL: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    callServer: function() {\n        return _appcallserver.callServer;\n    },\n    createServerReference: function() {\n        return createServerReference;\n    },\n    findSourceMapURL: function() {\n        return _appfindsourcemapurl.findSourceMapURL;\n    }\n});\nconst _appcallserver = require(\"next/dist/client/app-call-server\");\nconst _appfindsourcemapurl = require(\"next/dist/client/app-find-source-map-url\");\nconst createServerReference = (!!process.env.NEXT_RUNTIME ? require('react-server-dom-webpack/client.edge') : require('react-server-dom-webpack/client')).createServerReference;\n\n//# sourceMappingURL=action-client-wrapper.js.map","'use client';\r\n\r\nimport Image from 'next/image';\r\n\r\ninterface UserAvatarProps {\r\n  className?: string;\r\n  src?: string | null | undefined;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport const UserAvatar = ({ className, src, onClick }: UserAvatarProps) => {\r\n  const defaultSrc = '/images/DefaultUserAvatar1.png';\r\n  const imageSrc = src && src.trim() ? src : defaultSrc;\r\n\r\n  return (\r\n    <div\r\n      className={`${className || 'size-12'} ${onClick ? 'cursor-pointer' : ''} relative overflow-hidden rounded-full`}\r\n      onClick={onClick}\r\n      aria-label=\"User avatar\"\r\n    >\r\n      <Image\r\n        width={350}\r\n        height={350}\r\n        src={imageSrc}\r\n        className=\"rounded-full border border-card object-cover overflow-hidden\"\r\n        alt=\"user avatar\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport NextLink from 'next/link';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { useSyncExternalStore, useRef, useState, useEffect, use, createContext, useCallback, startTransition, useMemo } from 'react';\n\nfunction useHash() {\n    return useSyncExternalStore(subscribeHash, getHashSnapshot, getServerHashSnapshot);\n}\nfunction getHashSnapshot() {\n    return window.location.hash;\n}\nfunction getServerHashSnapshot() {\n    return '';\n}\nfunction subscribeHash(onStoreChange) {\n    window.addEventListener('hashchange', onStoreChange);\n    return ()=>window.removeEventListener('hashchange', onStoreChange);\n}\n\n// TODO: This implementation might not be complete when there are nested\n// Suspense boundaries during a route transition. But it should work fine for\n// the most common use cases.\nfunction useBrowserNativeTransitions() {\n    const pathname = usePathname();\n    const currentPathname = useRef(pathname);\n    // This is a global state to keep track of the view transition state.\n    const [currentViewTransition, setCurrentViewTransition] = useState(null);\n    useEffect(()=>{\n        if (!('startViewTransition' in document)) {\n            return ()=>{};\n        }\n        const onPopState = ()=>{\n            let pendingViewTransitionResolve;\n            const pendingViewTransition = new Promise((resolve)=>{\n                pendingViewTransitionResolve = resolve;\n            });\n            const pendingStartViewTransition = new Promise((resolve)=>{\n                // @ts-ignore\n                document.startViewTransition(()=>{\n                    resolve();\n                    return pendingViewTransition;\n                });\n            });\n            setCurrentViewTransition([\n                pendingStartViewTransition,\n                pendingViewTransitionResolve\n            ]);\n        };\n        window.addEventListener('popstate', onPopState);\n        return ()=>{\n            window.removeEventListener('popstate', onPopState);\n        };\n    }, []);\n    if (currentViewTransition && currentPathname.current !== pathname) {\n        // Whenever the pathname changes, we block the rendering of the new route\n        // until the view transition is started (i.e. DOM screenshotted).\n        use(currentViewTransition[0]);\n    }\n    // Keep the transition reference up-to-date.\n    const transitionRef = useRef(currentViewTransition);\n    useEffect(()=>{\n        transitionRef.current = currentViewTransition;\n    }, [\n        currentViewTransition\n    ]);\n    const hash = useHash();\n    useEffect(()=>{\n        // When the new route component is actually mounted, we finish the view\n        // transition.\n        currentPathname.current = pathname;\n        if (transitionRef.current) {\n            transitionRef.current[1]();\n            transitionRef.current = null;\n        }\n    }, [\n        hash,\n        pathname\n    ]);\n}\n\nconst ViewTransitionsContext = /*#__PURE__*/ createContext(()=>()=>{});\nfunction ViewTransitions({ children }) {\n    const [finishViewTransition, setFinishViewTransition] = useState(null);\n    useEffect(()=>{\n        if (finishViewTransition) {\n            finishViewTransition();\n            setFinishViewTransition(null);\n        }\n    }, [\n        finishViewTransition\n    ]);\n    useBrowserNativeTransitions();\n    return /*#__PURE__*/ jsx(ViewTransitionsContext.Provider, {\n        value: setFinishViewTransition,\n        children: children\n    });\n}\nfunction useSetFinishViewTransition() {\n    return use(ViewTransitionsContext);\n}\n\nfunction _extends$1() {\n    _extends$1 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$1.apply(this, arguments);\n}\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nfunction useTransitionRouter() {\n    const router = useRouter();\n    const finishViewTransition = useSetFinishViewTransition();\n    const triggerTransition = useCallback((cb, { onTransitionReady } = {})=>{\n        if ('startViewTransition' in document) {\n            // @ts-ignore\n            const transition = document.startViewTransition(()=>new Promise((resolve)=>{\n                    startTransition(()=>{\n                        cb();\n                        finishViewTransition(()=>resolve);\n                    });\n                }));\n            if (onTransitionReady) {\n                transition.ready.then(onTransitionReady);\n            }\n        } else {\n            return cb();\n        }\n    }, []);\n    const push = useCallback((href, _param = {})=>{\n        var { onTransitionReady } = _param, options = _object_without_properties_loose(_param, [\n            \"onTransitionReady\"\n        ]);\n        triggerTransition(()=>router.push(href, options), {\n            onTransitionReady\n        });\n    }, [\n        triggerTransition,\n        router\n    ]);\n    const replace = useCallback((href, _param = {})=>{\n        var { onTransitionReady } = _param, options = _object_without_properties_loose(_param, [\n            \"onTransitionReady\"\n        ]);\n        triggerTransition(()=>router.replace(href, options), {\n            onTransitionReady\n        });\n    }, [\n        triggerTransition,\n        router\n    ]);\n    return useMemo(()=>_extends$1({}, router, {\n            push,\n            replace\n        }), [\n        push,\n        replace,\n        router\n    ]);\n}\n\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n// copied from https://github.com/vercel/next.js/blob/66f8ffaa7a834f6591a12517618dce1fd69784f6/packages/next/src/client/link.tsx#L180-L191\nfunction isModifiedEvent(event) {\n    const eventTarget = event.currentTarget;\n    const target = eventTarget.getAttribute('target');\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n    event.nativeEvent && event.nativeEvent.which === 2;\n}\n// copied from https://github.com/vercel/next.js/blob/66f8ffaa7a834f6591a12517618dce1fd69784f6/packages/next/src/client/link.tsx#L204-L217\nfunction shouldPreserveDefault(e) {\n    const { nodeName } = e.currentTarget;\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n    if (isAnchorNodeName && isModifiedEvent(e)) {\n        // ignore click for browser’s default behavior\n        return true;\n    }\n    return false;\n}\n// This is a wrapper around next/link that explicitly uses the router APIs\n// to navigate, and trigger a view transition.\nfunction Link(props) {\n    const router = useTransitionRouter();\n    const { href, as, replace, scroll } = props;\n    const onClick = useCallback((e)=>{\n        if (props.onClick) {\n            props.onClick(e);\n        }\n        if ('startViewTransition' in document) {\n            if (shouldPreserveDefault(e)) {\n                return;\n            }\n            e.preventDefault();\n            const navigate = replace ? router.replace : router.push;\n            navigate(as || href, {\n                scroll: scroll != null ? scroll : true\n            });\n        }\n    }, [\n        props.onClick,\n        href,\n        as,\n        replace,\n        scroll\n    ]);\n    return /*#__PURE__*/ jsx(NextLink, _extends({}, props, {\n        onClick: onClick\n    }));\n}\n\nexport { Link, ViewTransitions, useTransitionRouter };\n"],"names":["DefaultUserAvatar","className","svg","viewBox","fill","xmlns","g","id","clipPath","path","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","defs","rect","width","height","NewMessagePage","users","selectedUsers","setSelectedUsers","useState","router","useRouter","handleSubmit","e","preventDefault","conversationData","sujet","FormData","currentTarget","get","participantsId","response","createConversation","ok","toast","success","message","push","console","error","toggleUserSelection","prev","includes","userId","filter","Backdrop","div","Link","href","IconWrapper","type","form","onSubmit","p","input","name","placeholder","ul","map","li","user","onClick","image","UserAvatar","src","span","email","Button","children","useEffect","document","body","classList","add","remove","button","style","props","Icon","imageSrc","trim","defaultSrc","aria-label","Image","alt","getHashSnapshot","window","location","hash","getServerHashSnapshot","subscribeHash","onStoreChange","addEventListener","removeEventListener","ViewTransitionsContext","createContext","ViewTransitions","finishViewTransition","setFinishViewTransition","useBrowserNativeTransitions","pathname","usePathname","currentPathname","useRef","currentViewTransition","setCurrentViewTransition","onPopState","pendingViewTransitionResolve","pendingViewTransition","Promise","resolve","startViewTransition","current","use","transitionRef","useSyncExternalStore","jsx","Provider","value","_extends$1","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_object_without_properties_loose","excluded","sourceKeys","keys","indexOf","useTransitionRouter","triggerTransition","useCallback","useSetFinishViewTransition","cb","onTransitionReady","transition","startTransition","ready","then","_param","options","replace","useMemo","_extends","as","scroll","shouldPreserveDefault","nodeName","toUpperCase","isModifiedEvent","event","getAttribute","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","navigate","NextLink"],"sourceRoot":"","ignoreList":[7,9]}