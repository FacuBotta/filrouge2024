{"version":3,"file":"static/chunks/app/events/edit/[id]/page-5fd423463a52a82e.js","mappings":"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","sources":["webpack://_N_E/?e47a","webpack://_N_E/?ffd7","webpack://_N_E/./app/events/edit/[id]/editEventPage.tsx","webpack://_N_E/./components/forms/SelectUserList.tsx","webpack://_N_E/./components/ui/cards/AutocompleteMapCard.tsx","webpack://_N_E/./lib/zod/zodSchemas.ts","webpack://_N_E/../../src/client/use-merged-ref.ts","webpack://_N_E/./public/images/UserAvatar.tsx"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"EditEventPage\"] */ \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\app\\\\events\\\\edit\\\\[id]\\\\editEventPage.tsx\");\n","import { createServerReference, callServer, findSourceMapURL } from 'private-next-rsc-action-client-wrapper'\nexport const updateEvent = /*#__PURE__*/createServerReference(\"7f0f47ee647d2087cca99340e8769abdc53555a6c4\", callServer, undefined, findSourceMapURL, \"updateEvent\")","'use client';\r\n\r\nimport { updateEvent } from '@/actions/eventsServerActions/updateEvent';\r\nimport SelectUserList from '@/components/forms/SelectUserList';\r\nimport AutocompletedMapCard from '@/components/ui/cards/AutocompleteMapCard';\r\nimport { NewEventForm, newEventSchema } from '@/lib/zod/zodSchemas';\r\nimport {\r\n  BasicProfileInformation,\r\n  EventAddress,\r\n  EventWithUserAndCount,\r\n} from '@/types/types';\r\nimport { Category } from '@prisma/client';\r\nimport { Icon } from 'facu-ui';\r\nimport { useRouter } from 'next/navigation';\r\nimport React, { useRef, useState } from 'react';\r\nimport { toast } from 'sonner';\r\nimport { z } from 'zod';\r\n\r\nexport const EditEventPage = ({\r\n  availableCategories,\r\n  contacts,\r\n  event,\r\n}: {\r\n  availableCategories: Category[];\r\n  contacts: BasicProfileInformation[];\r\n  event: EventWithUserAndCount; // ID del evento a editar\r\n}) => {\r\n  const [error, setError] = useState({\r\n    title: { message: '', value: false },\r\n    category: { message: '', value: false },\r\n    eventStart: { message: '', value: false },\r\n    eventEnd: { message: '', value: false },\r\n    description: { message: '', value: false },\r\n    address: { message: '', value: false },\r\n    image: { message: '', value: false },\r\n  });\r\n  const router = useRouter();\r\n  const imageInputRef = useRef<HTMLInputElement>(null);\r\n  const [finalAddress, setFinalAddress] = useState<EventAddress | null>({\r\n    lat: event.lat as number,\r\n    lng: event.lng as number,\r\n    formattedAddress: event.formattedAddress as string,\r\n    vicinity: event.vicinity as string,\r\n    url: event.locationUrl as string,\r\n  });\r\n  const [imagePreview, setImagePreview] = useState<string | null>(event.image);\r\n  const [isUserListOpen, setIsUserListOpen] = useState(false);\r\n  const [selectedParticipants, setSelectedParticipants] = useState<string[]>(\r\n    event.participants?.map((participant) => participant.userId) ?? []\r\n  );\r\n  // Take the selected users and close the modal\r\n  const setSelectedUsers = (selectedUsers: string[]) => {\r\n    setSelectedParticipants(selectedUsers);\r\n    setIsUserListOpen(false);\r\n  };\r\n  const closeModal = () => {\r\n    setSelectedParticipants([]);\r\n    setIsUserListOpen(!isUserListOpen);\r\n  };\r\n  const handleImagePreview = () => {\r\n    setError({\r\n      ...error,\r\n      image: { message: '', value: false },\r\n    });\r\n    setImagePreview('');\r\n    if (imageInputRef.current) {\r\n      const file = imageInputRef.current.files?.[0];\r\n      if (!file) return;\r\n      if (file.size > 2000000) {\r\n        setError({\r\n          ...error,\r\n          image: { message: 'La taille du fichier dÃ©passe 2Mo !', value: true },\r\n        });\r\n        imageInputRef.current.value = '';\r\n        return;\r\n      }\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          setImagePreview(e.target?.result as string);\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    }\r\n  };\r\n  // Format the date and time to a string for the defaultValue of date inputs\r\n  const formatDateTime = (date: Date) => {\r\n    const pad = (num: number) => num.toString().padStart(2, '0');\r\n\r\n    const year = date.getFullYear();\r\n    const month = pad(date.getMonth() + 1);\r\n    const day = pad(date.getDate());\r\n    const hours = pad(date.getHours());\r\n    const minutes = pad(date.getMinutes());\r\n\r\n    return `${year}-${month}-${day}T${hours}:${minutes}`;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setError({\r\n      title: { message: '', value: false },\r\n      category: { message: '', value: false },\r\n      eventStart: { message: '', value: false },\r\n      eventEnd: { message: '', value: false },\r\n      description: { message: '', value: false },\r\n      address: { message: '', value: false },\r\n      image: { message: '', value: false },\r\n    });\r\n    if (!finalAddress) {\r\n      setError({\r\n        ...error,\r\n        address: { message: 'Ubication obligatoire', value: true },\r\n      });\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData(e.currentTarget);\r\n\r\n    const endSameDay = formData.get('endSameDay') === 'on';\r\n\r\n    const eventData: NewEventForm = {\r\n      title: formData.get('title') as string,\r\n      categoryId: formData.get('category') as string,\r\n      isPublic: formData.get('isPublic') === 'on',\r\n      image: formData.get('image') as File,\r\n      eventStart: new Date(formData.get('eventStart') as string),\r\n      eventEnd: endSameDay\r\n        ? null\r\n        : new Date(formData.get('eventEnd') as string),\r\n      description: formData.get('description') as string,\r\n      participants: selectedParticipants,\r\n      address: {\r\n        url: finalAddress.url as string,\r\n        lat: finalAddress.lat as number,\r\n        lng: finalAddress.lng as number,\r\n        formattedAddress: finalAddress.formattedAddress as string,\r\n        vicinity: finalAddress.vicinity as string,\r\n      },\r\n    };\r\n\r\n    try {\r\n      newEventSchema.parse(eventData);\r\n      console.log({ eventData });\r\n      const response = await updateEvent({ eventData, eventId: event.id });\r\n      if (response?.ok) {\r\n        toast.success(response.message);\r\n        router.push(`/profile`);\r\n      } else if (!response.ok) {\r\n        toast.error(response.message);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err instanceof z.ZodError) {\r\n        err.errors.forEach((error) => {\r\n          const field = error.path[0];\r\n          setError((prevError) => ({\r\n            ...prevError,\r\n            [field]: { message: error.message, value: true },\r\n          }));\r\n        });\r\n      } else if (err instanceof Error) {\r\n        toast.error(err.message);\r\n        console.log(err);\r\n      }\r\n      toast.error('Une erreur est survenue ðŸ˜‘');\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"w-full max-w-[900px] mx-auto\">\r\n      <header className=\"relative w-full mb-5\">\r\n        <h1 className=\"text-4xl font-bold\">Editar l&apos;Ã©vÃ©nement ðŸš€</h1>\r\n        <button onClick={() => router.back()}>\r\n          <Icon\r\n            type=\"goBack\"\r\n            strokeWidth={2}\r\n            className=\"size-10 absolute right-[10px] top-[10px]\"\r\n          />\r\n        </button>\r\n      </header>\r\n      <main className=\"flex flex-col items-center justify-center mb-5 w-full relative rounded-xl border-2 border-light-borderCards bg-light-cards dark:border-dark-borderCards dark:bg-dark-cards\">\r\n        <form className=\"flex flex-col w-full gap-5 \" onSubmit={handleSubmit}>\r\n          <header\r\n            className=\"h-[300px] w-full border-b-2 rounded-tl-lg rounded-tr-lg border-black dark:border-dark-borderCards relative hover:bg-light-grey/10 bg-cover bg-center\"\r\n            style={{ backgroundImage: `url(${imagePreview})` }}\r\n          >\r\n            <input\r\n              ref={imageInputRef}\r\n              onChange={() => handleImagePreview()}\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              name=\"image\"\r\n              className=\"relative h-full w-full opacity-0 cursor-pointer\"\r\n            />\r\n            <span\r\n              className={`absolute left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] text-2xl dark:text-light-grey/50 cursor-pointer ${error.image.value ? 'text-red-500' : ''}`}\r\n            >\r\n              {error.image.value\r\n                ? error.image.message\r\n                : 'SÃ©lectionner une image'}\r\n            </span>\r\n          </header>\r\n          <section className=\"flex w-full gap-5 mt-2 justify-between flex-wrap px-5\">\r\n            <fieldset className=\"flex flex-col sm:w-[50%]\">\r\n              <div className=\"flex w-full gap-2 flex-col\">\r\n                <input\r\n                  className=\"newEventInput sm:!w-[500px] \"\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  placeholder=\"Titre du Ã©vÃ©nement (max 100 caractÃ¨res)\"\r\n                  defaultValue={event.title}\r\n                  required={true}\r\n                />\r\n                {error.title?.value && (\r\n                  <span className=\"text-red-500 text-[1.2rem] mx-auto\">\r\n                    {error.title?.message}\r\n                  </span>\r\n                )}\r\n                <select\r\n                  className=\"newEventInput\"\r\n                  name=\"category\"\r\n                  defaultValue={event.category.id}\r\n                >\r\n                  <option>CatÃ©gorie</option>\r\n                  {availableCategories.map((category: Category) => (\r\n                    <option key={category.id} value={category.id}>\r\n                      {category.title}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {error.category?.value && (\r\n                  <span className=\"text-red-500 text-[1.2rem] mx-auto\">\r\n                    {error.category?.message}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"flex flex-col gap-2 mt-5\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"primary-btn h-10\"\r\n                  onClick={() => setIsUserListOpen(true)}\r\n                >\r\n                  GÃ©rer les participants\r\n                </button>\r\n                <label\r\n                  htmlFor=\"isPublic\"\r\n                  className=\"text-xl flex gap-2 select-none ml-2\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"isPublic\"\r\n                    id=\"isPublic\"\r\n                    className=\"w-4\"\r\n                    defaultChecked={event.isPublic ?? false}\r\n                  />\r\n                  Ã‰vÃ©nement publique\r\n                </label>\r\n              </div>\r\n            </fieldset>\r\n            {/* Dates Fields */}\r\n            <fieldset className=\"flex flex-col gap-2\">\r\n              <label\r\n                htmlFor=\"eventStart\"\r\n                className=\"text-2xl flex flex-col gap-2\"\r\n              >\r\n                Commence le:\r\n                <input\r\n                  className=\"newEventInput w-[250px] sm:w-[320px] sm:ml-3\"\r\n                  type=\"datetime-local\"\r\n                  name=\"eventStart\"\r\n                  placeholder=\"Date de dÃ©but\"\r\n                  defaultValue={\r\n                    event.eventStart ? formatDateTime(event.eventStart) : ''\r\n                  }\r\n                />\r\n              </label>\r\n              {error.eventStart?.value && (\r\n                <span className=\"text-red-500 text-[1.2rem] mx-auto\">\r\n                  {error.eventStart?.message}\r\n                </span>\r\n              )}\r\n              <label\r\n                htmlFor=\"eventEnd\"\r\n                className=\"text-2xl flex flex-col gap-2\"\r\n              >\r\n                Se termine le:\r\n                <input\r\n                  className=\"newEventInput w-[250px] sm:w-[320px] sm:ml-3\"\r\n                  type=\"datetime-local\"\r\n                  name=\"eventEnd\"\r\n                  placeholder=\"Date de fin\"\r\n                  defaultValue={\r\n                    event.eventEnd ? formatDateTime(event.eventEnd) : ''\r\n                  }\r\n                />\r\n              </label>\r\n              <label\r\n                htmlFor=\"endSameDay\"\r\n                className=\"text-xl flex gap-2 select-none ml-3\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"endSameDay\"\r\n                  id=\"endSameDay\"\r\n                  className=\"w-4\"\r\n                  defaultChecked={!event.eventEnd}\r\n                />\r\n                Se termine la mÃªme journÃ©e\r\n              </label>\r\n            </fieldset>\r\n          </section>\r\n          <section className=\"flex gap-5 w-full justify-between items-start mt-2 flex-wrap px-5 \">\r\n            <textarea\r\n              className=\"p-4 mt-10 border-2 border-black dark:border-dark-grey/50 rounded-lg dark:bg-transparent dark:placeholder:text-dark-greenLight/50 w-full\"\r\n              rows={10}\r\n              name=\"description\"\r\n              placeholder=\"Description du Ã©vÃ©nement (entre 30 et 1000 caractÃ¨res ðŸ˜‰)\"\r\n              defaultValue={event.description as string}\r\n            />\r\n            {error.description?.value && (\r\n              <span className=\"text-blue-500 text-[1.2rem] mx-auto\">\r\n                {error.description?.message}\r\n              </span>\r\n            )}\r\n          </section>\r\n          <section className=\"w-full px-5\">\r\n            <h3 className=\"text-2xl\">Ubication :</h3>\r\n            <span className=\"text-red-500\">\r\n              {error.address?.message ? error.address?.message : ''}\r\n            </span>\r\n            <div className=\"\">\r\n              <AutocompletedMapCard\r\n                onAddressChange={setFinalAddress}\r\n                existingAddress={{\r\n                  lat: event.lat as number,\r\n                  lng: event.lng as number,\r\n                  formattedAddress: event.formattedAddress as string,\r\n                  vicinity: event.vicinity as string,\r\n                  url: event.locationUrl as string,\r\n                }}\r\n              />\r\n            </div>\r\n          </section>\r\n          <div className=\"w-full p-5\">\r\n            <button className=\"primary-btn w-full\" type=\"submit\">\r\n              CrÃ©er l&apos;Ã©vÃ©nement\r\n            </button>\r\n          </div>\r\n        </form>\r\n        {isUserListOpen && (\r\n          <div className=\"fixed top-0 left-0 w-full h-full bg-black/80 flex justify-center items-center sm:pt-20\">\r\n            <SelectUserList\r\n              users={contacts}\r\n              takeUsers={setSelectedUsers}\r\n              closeModal={closeModal}\r\n              preSelectedUsers={selectedParticipants}\r\n            />\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n","'use client';\r\n\r\nimport { UserAvatar } from '@/public/images/UserAvatar';\r\nimport { BasicProfileInformation } from '@/types/types';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface SelectUserListProps {\r\n  users: BasicProfileInformation[];\r\n  takeUsers: (selectedUsers: string[]) => void;\r\n  closeModal: () => void;\r\n  preSelectedUsers?: string[];\r\n}\r\n\r\nexport default function SelectUserList({\r\n  users,\r\n  takeUsers,\r\n  closeModal,\r\n  preSelectedUsers,\r\n}: SelectUserListProps) {\r\n  const [selectedUserIds, setSelectedUserIds] = useState<string[]>(\r\n    preSelectedUsers ?? []\r\n  );\r\n  const [filterUser, setFilterUser] =\r\n    useState<BasicProfileInformation[]>(users);\r\n\r\n  const searchUsers = (searchTerm: string) => {\r\n    const filteredUsers = users.filter((user) =>\r\n      user.username?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setFilterUser(filteredUsers);\r\n  };\r\n\r\n  // Turn of the scroll of the body when the modal is open\r\n  useEffect(() => {\r\n    document.body.classList.add('no-scroll');\r\n    return () => {\r\n      document.body.classList.remove('no-scroll');\r\n    };\r\n  }, []);\r\n  const handleUserSelection = (userId: string) => {\r\n    setSelectedUserIds((prev) =>\r\n      prev.includes(userId)\r\n        ? prev.filter((id) => id !== userId)\r\n        : [...prev, userId]\r\n    );\r\n  };\r\n\r\n  const confirmSelection = () => {\r\n    takeUsers(selectedUserIds);\r\n    // closeModal();\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-[320px] 4xl:max-w-[420px] h-[85vh] max-h-[700px] flex flex-col justify-between gap-2 p-4 rounded-xl border bg-light-cards dark:bg-dark-bg mx-2 mt-2\">\r\n      <header className=\"w-full\">\r\n        <p className=\"text-2xl font-semibold mb-3\">Mes contactes</p>\r\n        <input\r\n          type=\"search\"\r\n          onChange={(e) => searchUsers(e.target.value)}\r\n          placeholder=\"Rechercher...\"\r\n          className=\"newEventInput !bg-light-grey dark:!bg-transparent\"\r\n        />\r\n      </header>\r\n      <ul className=\"flex flex-col w-full h-full no-scrollbar overflow-y-scroll inset-shadow-lg border border-light-borderCards dark:border-dark-borderCards rounded-lg p-2 bg-light-ciel dark:bg-dark-bg \">\r\n        {filterUser.length === 0 && (\r\n          <p className=\"text-center opacity-50\">Aucun utilisateur trouvÃ©</p>\r\n        )}\r\n        {filterUser.map((user) => (\r\n          <li\r\n            key={user.id}\r\n            className={`cursor-pointer flex gap-2 bg-light-blue dark:bg-dark-cards items-end my-2 border-2 rounded-lg p-2 ${\r\n              selectedUserIds.includes(user.id)\r\n                ? 'border-light-yellow'\r\n                : 'border-inherit'\r\n            }`}\r\n            onClick={() => handleUserSelection(user.id)}\r\n          >\r\n            <div className=\"shrink-1\">\r\n              <UserAvatar src={user.image} />\r\n            </div>\r\n            <span>{user.username}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <footer className=\"flex flex-col gap-2 \">\r\n        <button className=\"primary-btn w-full\" onClick={confirmSelection}>\r\n          Confirmer\r\n        </button>\r\n        <button className=\"secondary-btn w-full\" onClick={closeModal}>\r\n          Annuler\r\n        </button>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-undef */\r\n'use client';\r\nimport { EventAddress } from '@/types/types';\r\nimport type { Libraries } from '@react-google-maps/api';\r\nimport {\r\n  Autocomplete,\r\n  GoogleMap,\r\n  LoadScript,\r\n  Marker,\r\n} from '@react-google-maps/api';\r\nimport { useEffect, useRef, useState } from 'react';\r\n\r\nconst libraries: Libraries = ['places'];\r\n\r\nconst MapWithAutocomplete = ({\r\n  onAddressChange,\r\n  existingAddress,\r\n}: {\r\n  onAddressChange: (address: EventAddress | null) => void;\r\n  existingAddress?: EventAddress | null;\r\n}) => {\r\n  const [isApiLoaded, setIsApiLoaded] = useState(false);\r\n  const apiKey = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || '';\r\n  const [place, setPlace] = useState({ lat: 53.54992, lng: 10.00678 });\r\n  const [zoom, setZoom] = useState(10);\r\n  const autocompleteRef = useRef<google.maps.places.Autocomplete | null>(null);\r\n  const onLoad = (autocomplete: google.maps.places.Autocomplete) => {\r\n    autocompleteRef.current = autocomplete;\r\n  };\r\n  const onPlaceChanged = () => {\r\n    if (autocompleteRef.current) {\r\n      const selectedPlace = autocompleteRef.current.getPlace();\r\n      if (selectedPlace?.geometry && selectedPlace.geometry?.location) {\r\n        const finalAddress = {\r\n          url: selectedPlace.url,\r\n          lat: selectedPlace.geometry.location.lat(),\r\n          lng: selectedPlace.geometry.location.lng(),\r\n          formattedAddress: selectedPlace.formatted_address,\r\n          vicinity: selectedPlace.vicinity,\r\n        };\r\n\r\n        setPlace({\r\n          lat: finalAddress.lat,\r\n          lng: finalAddress.lng,\r\n        });\r\n        setZoom(20);\r\n        onAddressChange(finalAddress);\r\n      }\r\n    }\r\n  };\r\n  // Delete the window.google object to avoid conflicts with the Google Maps API\r\n  // this is the solution to the error 'Google API is already presented'\r\n  useEffect(() => {\r\n    if (existingAddress) {\r\n      setPlace({\r\n        lat: existingAddress.lat as number,\r\n        lng: existingAddress.lng as number,\r\n      });\r\n      setZoom(20);\r\n    }\r\n    if (typeof window !== 'undefined' && window.google) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      delete (window as any).google;\r\n    }\r\n  }, [existingAddress]);\r\n  useEffect(() => {\r\n    if (!isApiLoaded) {\r\n      setIsApiLoaded(true);\r\n    }\r\n  }, [isApiLoaded]);\r\n\r\n  return (\r\n    <LoadScript googleMapsApiKey={apiKey} libraries={libraries}>\r\n      {isApiLoaded && (\r\n        <div>\r\n          <Autocomplete onLoad={onLoad} onPlaceChanged={onPlaceChanged}>\r\n            <input\r\n              placeholder=\"Chercher un lieu\"\r\n              className=\"newEventInput w-full mb-5\"\r\n              defaultValue={existingAddress?.formattedAddress ?? ''}\r\n            />\r\n          </Autocomplete>\r\n          <div className=\"rounded-lg border-2 border-black dark:border-dark-grey/50 overflow-hidden h-[500px] w-full\">\r\n            <GoogleMap\r\n              center={place}\r\n              zoom={zoom}\r\n              mapContainerStyle={{ width: '100%', height: '100%' }}\r\n            >\r\n              <Marker position={place} />\r\n            </GoogleMap>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </LoadScript>\r\n  );\r\n};\r\n\r\nexport default MapWithAutocomplete;\r\n","import { z } from 'zod';\r\n\r\nexport const emailSchema = z.object({\r\n  email: z\r\n    .string()\r\n    .email({ message: 'Veuillez utiliser une adresse e-mail valide' }),\r\n});\r\n\r\nexport const passwordRegex =\r\n  /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#@$!%*?&])[A-Za-z\\d#@$!%*?&]{8,30}$/;\r\n\r\nexport const passwordRegexMessage =\r\n  '8 caractÃ¨res, une majuscule, une minuscule, un chiffre et un caractÃ¨re spÃ©cial, \\' \" _ - ne sont pas autorisÃ©s';\r\n\r\nexport const passwordSchema = z.object({\r\n  password: z\r\n    .string()\r\n    .min(8, { message: 'Le mot de passe doit Ãªtre de 8 caractÃ¨res minimum' })\r\n    .max(30, { message: 'Le mot de passe doit Ãªtre de 30 caractÃ¨res maximum' })\r\n    .regex(passwordRegex, {\r\n      message: passwordRegexMessage,\r\n    }),\r\n});\r\n\r\nexport const signUpSchema = z.object({\r\n  email: z\r\n    .string()\r\n    .email({ message: 'Veuillez utiliser une adresse e-mail valide' }),\r\n});\r\n\r\nexport const eventAddressSchema = z.object({\r\n  url: z.string().url(),\r\n  lat: z.number(),\r\n  lng: z.number(),\r\n  formattedAddress: z.string(),\r\n  vicinity: z.string(),\r\n});\r\n\r\nexport const newEventSchema = z.object({\r\n  categoryId: z.string(),\r\n  title: z\r\n    .string()\r\n    .max(100, { message: 'Le titre doit Ãªtre de 100 caractÃ¨res maximum' }),\r\n  description: z\r\n    .string()\r\n    .min(30, {\r\n      message: \"Il faut un peu de l'inspiration pour cette description!\",\r\n    })\r\n    .max(1000, {\r\n      message: 'La description doit Ãªtre de 1000 caractÃ¨res maximum',\r\n    }),\r\n  eventStart: z.date().refine(\r\n    (value) => {\r\n      const date = value;\r\n      const now = new Date();\r\n      return !isNaN(date.getTime()) && date >= now;\r\n    },\r\n    {\r\n      message: 'La date doit Ãªtre valide et ne peut pas Ãªtre dans le passÃ©',\r\n    }\r\n  ),\r\n  eventEnd: z\r\n    .date()\r\n    .nullable()\r\n    .refine(\r\n      (value) => {\r\n        if (!value) return true;\r\n        const date = value;\r\n        const now = new Date();\r\n        return !isNaN(date.getTime()) && date >= now;\r\n      },\r\n      {\r\n        message: 'La date doit Ãªtre valide et ne peut pas Ãªtre dans le passÃ©',\r\n      }\r\n    ),\r\n  isPublic: z.boolean(),\r\n  participants: z.array(z.string()),\r\n  address: eventAddressSchema,\r\n  image: z.instanceof(File),\r\n});\r\n\r\n// Generar el tipo TypeScript a partir del esquema\r\nexport type NewEventForm = z.infer<typeof newEventSchema>;\r\n\r\nconst validCategoryTitles = [\r\n  'sport',\r\n  'education',\r\n  'language',\r\n  'city tours',\r\n  'air libre',\r\n  'autres',\r\n];\r\n\r\nexport const categoryTitleSchema = z\r\n  .string()\r\n  .regex(new RegExp(`^(${validCategoryTitles.join('|')})$`), {\r\n    message: 'Titre invalide',\r\n  });\r\n\r\n// participants: z.array(z.string()).optional(),\r\n// TODO: ADD EDIT PROFILE SCHEMA\r\n\r\n/* \r\n=========================================================\r\n============ USER SERVICES OUTPUT SCHEMAS ===============\r\n=========================================================\r\n*/\r\nconst MAX_FILE_SIZE = 2 * 1024 * 1024; // 2MB\r\nexport const updateUserSchema = z.object({\r\n  username: z\r\n    .string()\r\n    .max(30, \"Le nom d'utilisateur doit comporter 30 caractÃ¨res ou moins\")\r\n    .optional(),\r\n  image: z\r\n    .union([\r\n      z.instanceof(File).refine((file) => file.size <= MAX_FILE_SIZE, {\r\n        message: \"La taille de l'image doit Ãªtre de 2 Mo ou moins\",\r\n      }),\r\n      z.null(),\r\n      z.undefined(),\r\n    ])\r\n    .optional(),\r\n  description: z\r\n    .string()\r\n    .max(1000, 'La description doit comporter 1000 caractÃ¨res ou moins')\r\n    .optional(),\r\n  oldImage: z.string().optional(),\r\n});\r\n\r\nexport const getUserServiceSchema = z.object({\r\n  id: z.string(),\r\n  email: z.string().email().nullable(),\r\n  username: z.string().nullable(),\r\n  image: z.string().nullable(),\r\n  description: z.string().nullable(),\r\n  _count: z.object({\r\n    Ratings: z.number(),\r\n    EventsCreated: z.number(),\r\n  }),\r\n});\r\nexport type getUserServiceType = z.infer<typeof getUserServiceSchema>;\r\n\r\nexport const getAllUsersServiceSchema = z.array(getUserServiceSchema);\r\n","import { useMemo, useRef, type Ref } from 'react'\n\n// This is a compatibility hook to support React 18 and 19 refs.\n// In 19, a cleanup function from refs may be returned.\n// In 18, returning a cleanup function creates a warning.\n// Since we take userspace refs, we don't know ahead of time if a cleanup function will be returned.\n// This implements cleanup functions with the old behavior in 18.\n// We know refs are always called alternating with `null` and then `T`.\n// So a call with `null` means we need to call the previous cleanup functions.\nexport function useMergedRef<TElement>(\n  refA: Ref<TElement>,\n  refB: Ref<TElement>\n): Ref<TElement> {\n  const cleanupA = useRef<() => void>(() => {})\n  const cleanupB = useRef<() => void>(() => {})\n\n  return useMemo(() => {\n    if (!refA || !refB) {\n      return refA || refB\n    }\n\n    return (current: TElement | null): void => {\n      if (current === null) {\n        cleanupA.current()\n        cleanupB.current()\n      } else {\n        cleanupA.current = applyRef(refA, current)\n        cleanupB.current = applyRef(refB, current)\n      }\n    }\n  }, [refA, refB])\n}\n\nfunction applyRef<TElement>(\n  refA: NonNullable<Ref<TElement>>,\n  current: TElement\n) {\n  if (typeof refA === 'function') {\n    const cleanup = refA(current)\n    if (typeof cleanup === 'function') {\n      return cleanup\n    } else {\n      return () => refA(null)\n    }\n  } else {\n    refA.current = current\n    return () => {\n      refA.current = null\n    }\n  }\n}\n","'use client';\r\n\r\nimport Image from 'next/image';\r\n\r\ninterface UserAvatarProps {\r\n  className?: string;\r\n  src?: string | null | undefined;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport const UserAvatar = ({ className, src, onClick }: UserAvatarProps) => {\r\n  const defaultSrc = '/images/DefaultUserAvatar1.png';\r\n  const imageSrc = src && src.trim() ? src : defaultSrc;\r\n\r\n  return (\r\n    <div\r\n      className={`${className || 'size-12'} ${onClick ? 'cursor-pointer' : ''} relative overflow-hidden rounded-full`}\r\n      onClick={onClick}\r\n      aria-label=\"User avatar\"\r\n    >\r\n      <Image\r\n        width={350}\r\n        height={350}\r\n        src={imageSrc}\r\n        className=\"rounded-full border border-card object-cover overflow-hidden\"\r\n        alt=\"user avatar\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"names":["EditEventPage","event","error","availableCategories","contacts","setError","useState","title","message","value","category","eventStart","eventEnd","description","address","image","router","useRouter","imageInputRef","useRef","finalAddress","setFinalAddress","lat","lng","formattedAddress","vicinity","url","locationUrl","imagePreview","setImagePreview","isUserListOpen","setIsUserListOpen","selectedParticipants","setSelectedParticipants","participants","map","participant","userId","handleImagePreview","current","file","files","size","reader","FileReader","onload","e","target","result","readAsDataURL","formatDateTime","pad","num","toString","padStart","year","date","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","handleSubmit","preventDefault","formData","FormData","currentTarget","endSameDay","get","eventData","categoryId","isPublic","Date","newEventSchema","parse","console","log","response","updateEvent","eventId","id","ok","toast","success","push","err","z","ZodError","errors","forEach","field","path","prevError","Error","div","className","header","h1","button","onClick","back","Icon","type","strokeWidth","main","form","onSubmit","style","backgroundImage","input","ref","onChange","accept","name","span","section","fieldset","placeholder","defaultValue","required","select","option","label","htmlFor","defaultChecked","textarea","rows","h3","AutocompletedMapCard","onAddressChange","existingAddress","SelectUserList","users","takeUsers","setSelectedUsers","selectedUsers","closeModal","preSelectedUsers","selectedUserIds","setSelectedUserIds","filterUser","setFilterUser","searchUsers","searchTerm","filter","filteredUsers","user","username","toLowerCase","includes","useEffect","document","body","classList","add","remove","handleUserSelection","prev","p","ul","length","li","UserAvatar","src","footer","confirmSelection","libraries","MapWithAutocomplete","isApiLoaded","setIsApiLoaded","place","setPlace","zoom","setZoom","autocompleteRef","window","google","LoadScript","googleMapsApiKey","process","apiKey","Autocomplete","onLoad","autocomplete","onPlaceChanged","selectedPlace","getPlace","geometry","location","formatted_address","GoogleMap","center","mapContainerStyle","width","height","Marker","position","emailSchema","object","email","string","passwordSchema","password","min","max","regex","passwordRegex","passwordRegexMessage","eventAddressSchema","number","refine","now","isNaN","getTime","nullable","boolean","array","instanceof","File","RegExp","validCategoryTitles","join","updateUserSchema","optional","union","MAX_FILE_SIZE","null","undefined","oldImage","_count","Ratings","EventsCreated","getUserServiceSchema","useMergedRef","refA","refB","cleanupA","cleanupB","useMemo","applyRef","cleanup","imageSrc","trim","defaultSrc","aria-label","Image","alt"],"sourceRoot":"","ignoreList":[]}