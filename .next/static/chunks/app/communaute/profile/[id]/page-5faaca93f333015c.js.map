{"version":3,"file":"static/chunks/app/communaute/profile/[id]/page-5faaca93f333015c.js","mappings":"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","sources":["webpack://_N_E/?fb00","webpack://_N_E/?18ca","webpack://_N_E/./components/forms/ScoreGiver.tsx","webpack://_N_E/./components/forms/makeCommentForm.tsx","webpack://_N_E/./components/ui/IconWrapper.tsx","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js","webpack://_N_E/./public/images/UserAvatar.tsx","webpack://_N_E/./node_modules/next-view-transitions/dist/index.js"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\components\\\\forms\\\\makeCommentForm.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\components\\\\ui\\\\IconWrapper.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\node_modules\\\\next-view-transitions\\\\dist\\\\index.js\");\n;\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\public\\\\images\\\\UserAvatar.tsx\");\n","import { createServerReference, callServer, findSourceMapURL } from 'private-next-rsc-action-client-wrapper'\nexport const makeComment = /*#__PURE__*/createServerReference(\"70dc9bf5e192ba2ebb97d79e848f22817060a11407\", callServer, undefined, findSourceMapURL, \"makeComment\")","'use client';\r\n\r\nimport { ScoreGiverRef } from '@/types/types';\r\nimport { Icon } from 'facu-ui';\r\nimport { forwardRef, useImperativeHandle, useState } from 'react';\r\n\r\nconst ScoreGiver = forwardRef<ScoreGiverRef>((_, ref) => {\r\n  const [score, setScore] = useState(0);\r\n  const [lastFilled, setLastFilled] = useState(0);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    getScore: () => score,\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      <p>Donne une ponctuation !</p>\r\n      <div className=\"flex gap-2 items-center my-2\">\r\n        {[1, 2, 3, 4, 5].map((value) => (\r\n          <Icon\r\n            key={value}\r\n            type=\"star\"\r\n            filled={value <= lastFilled}\r\n            onClick={() => setScore(value)}\r\n            onMouseEnter={() => setLastFilled(value)}\r\n            onMouseLeave={() => setLastFilled(score)}\r\n            fillcolor=\"#FCE181\"\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nScoreGiver.displayName = 'ScoreGiver';\r\n\r\nexport default ScoreGiver;\r\n","'use client';\r\n\r\nimport { makeComment } from '@/actions/commentsServerActions/makeComment';\r\nimport { ScoreGiverRef } from '@/types/types';\r\nimport { useRouter } from 'next/navigation';\r\nimport React, { useRef, useState } from 'react';\r\nimport { toast } from 'sonner';\r\nimport ScoreGiver from './ScoreGiver';\r\n\r\nexport default function MakeCommentForm({\r\n  recipientId,\r\n}: {\r\n  recipientId: string;\r\n}) {\r\n  const commentRef = useRef<HTMLTextAreaElement>(null);\r\n  const scoreRef = useRef<ScoreGiverRef>(null);\r\n  const router = useRouter();\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [formOpen, setFormOpen] = useState<boolean>(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const content = commentRef.current?.value;\r\n    try {\r\n      if (content) {\r\n        setIsLoading(true);\r\n        const score = scoreRef.current?.getScore();\r\n        if (!score) {\r\n          throw new Error('Score is not defined');\r\n        }\r\n        const response = await makeComment(content, recipientId, score);\r\n        if (response.ok) {\r\n          toast.success(response.message);\r\n          commentRef.current.value = '';\r\n          router.refresh();\r\n        } else {\r\n          toast.error(response.message);\r\n        }\r\n        setIsLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error('Erreur lors de la création du commentaire');\r\n    }\r\n  };\r\n  const toggleForm = () => {\r\n    if (commentRef.current) {\r\n      commentRef.current.value = '';\r\n    }\r\n    setFormOpen(!formOpen);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setFormOpen(true)}\r\n        className={`${formOpen ? 'hidden' : 'primary-btn mb-2'} `}\r\n      >\r\n        Laisser un commentaire\r\n      </button>\r\n      <form\r\n        className={`${formOpen ? 'h-[280px] opacity-100' : 'h-[0px] opacity-0'} overflow-hidden w-[300px] transition-all duration-300 ease-in-out`}\r\n        onSubmit={(e) => handleSubmit(e)}\r\n      >\r\n        <ScoreGiver ref={scoreRef} />\r\n        <textarea\r\n          ref={commentRef}\r\n          name=\"comment\"\r\n          id=\"comment\"\r\n          rows={4}\r\n          placeholder=\"Tapez un commentaire\"\r\n          className=\"w-full p-2 border-2 border-black dark:border-dark-grey/50 rounded-lg dark:bg-transparent dark:placeholder:text-dark-greenLight/50\"\r\n        ></textarea>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"primary-btn w-full\"\r\n            disabled={isLoading}\r\n          >\r\n            Envoyer\r\n          </button>\r\n          <div className=\"secondary-btn\" onClick={() => toggleForm()}>\r\n            Annuler\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\nimport { Icon, iconProps } from 'facu-ui';\r\n\r\nexport default function IconWrapper(props: iconProps) {\r\n  return <Icon {...props} />;\r\n}\r\n","// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    callServer: null,\n    createServerReference: null,\n    findSourceMapURL: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    callServer: function() {\n        return _appcallserver.callServer;\n    },\n    createServerReference: function() {\n        return createServerReference;\n    },\n    findSourceMapURL: function() {\n        return _appfindsourcemapurl.findSourceMapURL;\n    }\n});\nconst _appcallserver = require(\"next/dist/client/app-call-server\");\nconst _appfindsourcemapurl = require(\"next/dist/client/app-find-source-map-url\");\nconst createServerReference = (!!process.env.NEXT_RUNTIME ? require('react-server-dom-webpack/client.edge') : require('react-server-dom-webpack/client')).createServerReference;\n\n//# sourceMappingURL=action-client-wrapper.js.map","'use client';\r\n\r\nimport Image from 'next/image';\r\n\r\ninterface UserAvatarProps {\r\n  className?: string;\r\n  src?: string | null | undefined;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport const UserAvatar = ({ className, src, onClick }: UserAvatarProps) => {\r\n  const defaultSrc = '/images/DefaultUserAvatar1.png';\r\n  const imageSrc = src && src.trim() ? src : defaultSrc;\r\n\r\n  return (\r\n    <div\r\n      className={`${className || 'size-12'} ${onClick ? 'cursor-pointer' : ''} relative overflow-hidden rounded-full`}\r\n      onClick={onClick}\r\n      aria-label=\"User avatar\"\r\n    >\r\n      <Image\r\n        width={350}\r\n        height={350}\r\n        src={imageSrc}\r\n        className=\"rounded-full border border-card object-cover overflow-hidden\"\r\n        alt=\"user avatar\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport NextLink from 'next/link';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { useSyncExternalStore, useRef, useState, useEffect, use, createContext, useCallback, startTransition, useMemo } from 'react';\n\nfunction useHash() {\n    return useSyncExternalStore(subscribeHash, getHashSnapshot, getServerHashSnapshot);\n}\nfunction getHashSnapshot() {\n    return window.location.hash;\n}\nfunction getServerHashSnapshot() {\n    return '';\n}\nfunction subscribeHash(onStoreChange) {\n    window.addEventListener('hashchange', onStoreChange);\n    return ()=>window.removeEventListener('hashchange', onStoreChange);\n}\n\n// TODO: This implementation might not be complete when there are nested\n// Suspense boundaries during a route transition. But it should work fine for\n// the most common use cases.\nfunction useBrowserNativeTransitions() {\n    const pathname = usePathname();\n    const currentPathname = useRef(pathname);\n    // This is a global state to keep track of the view transition state.\n    const [currentViewTransition, setCurrentViewTransition] = useState(null);\n    useEffect(()=>{\n        if (!('startViewTransition' in document)) {\n            return ()=>{};\n        }\n        const onPopState = ()=>{\n            let pendingViewTransitionResolve;\n            const pendingViewTransition = new Promise((resolve)=>{\n                pendingViewTransitionResolve = resolve;\n            });\n            const pendingStartViewTransition = new Promise((resolve)=>{\n                // @ts-ignore\n                document.startViewTransition(()=>{\n                    resolve();\n                    return pendingViewTransition;\n                });\n            });\n            setCurrentViewTransition([\n                pendingStartViewTransition,\n                pendingViewTransitionResolve\n            ]);\n        };\n        window.addEventListener('popstate', onPopState);\n        return ()=>{\n            window.removeEventListener('popstate', onPopState);\n        };\n    }, []);\n    if (currentViewTransition && currentPathname.current !== pathname) {\n        // Whenever the pathname changes, we block the rendering of the new route\n        // until the view transition is started (i.e. DOM screenshotted).\n        use(currentViewTransition[0]);\n    }\n    // Keep the transition reference up-to-date.\n    const transitionRef = useRef(currentViewTransition);\n    useEffect(()=>{\n        transitionRef.current = currentViewTransition;\n    }, [\n        currentViewTransition\n    ]);\n    const hash = useHash();\n    useEffect(()=>{\n        // When the new route component is actually mounted, we finish the view\n        // transition.\n        currentPathname.current = pathname;\n        if (transitionRef.current) {\n            transitionRef.current[1]();\n            transitionRef.current = null;\n        }\n    }, [\n        hash,\n        pathname\n    ]);\n}\n\nconst ViewTransitionsContext = /*#__PURE__*/ createContext(()=>()=>{});\nfunction ViewTransitions({ children }) {\n    const [finishViewTransition, setFinishViewTransition] = useState(null);\n    useEffect(()=>{\n        if (finishViewTransition) {\n            finishViewTransition();\n            setFinishViewTransition(null);\n        }\n    }, [\n        finishViewTransition\n    ]);\n    useBrowserNativeTransitions();\n    return /*#__PURE__*/ jsx(ViewTransitionsContext.Provider, {\n        value: setFinishViewTransition,\n        children: children\n    });\n}\nfunction useSetFinishViewTransition() {\n    return use(ViewTransitionsContext);\n}\n\nfunction _extends$1() {\n    _extends$1 = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends$1.apply(this, arguments);\n}\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nfunction useTransitionRouter() {\n    const router = useRouter();\n    const finishViewTransition = useSetFinishViewTransition();\n    const triggerTransition = useCallback((cb, { onTransitionReady } = {})=>{\n        if ('startViewTransition' in document) {\n            // @ts-ignore\n            const transition = document.startViewTransition(()=>new Promise((resolve)=>{\n                    startTransition(()=>{\n                        cb();\n                        finishViewTransition(()=>resolve);\n                    });\n                }));\n            if (onTransitionReady) {\n                transition.ready.then(onTransitionReady);\n            }\n        } else {\n            return cb();\n        }\n    }, []);\n    const push = useCallback((href, _param = {})=>{\n        var { onTransitionReady } = _param, options = _object_without_properties_loose(_param, [\n            \"onTransitionReady\"\n        ]);\n        triggerTransition(()=>router.push(href, options), {\n            onTransitionReady\n        });\n    }, [\n        triggerTransition,\n        router\n    ]);\n    const replace = useCallback((href, _param = {})=>{\n        var { onTransitionReady } = _param, options = _object_without_properties_loose(_param, [\n            \"onTransitionReady\"\n        ]);\n        triggerTransition(()=>router.replace(href, options), {\n            onTransitionReady\n        });\n    }, [\n        triggerTransition,\n        router\n    ]);\n    return useMemo(()=>_extends$1({}, router, {\n            push,\n            replace\n        }), [\n        push,\n        replace,\n        router\n    ]);\n}\n\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n// copied from https://github.com/vercel/next.js/blob/66f8ffaa7a834f6591a12517618dce1fd69784f6/packages/next/src/client/link.tsx#L180-L191\nfunction isModifiedEvent(event) {\n    const eventTarget = event.currentTarget;\n    const target = eventTarget.getAttribute('target');\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n    event.nativeEvent && event.nativeEvent.which === 2;\n}\n// copied from https://github.com/vercel/next.js/blob/66f8ffaa7a834f6591a12517618dce1fd69784f6/packages/next/src/client/link.tsx#L204-L217\nfunction shouldPreserveDefault(e) {\n    const { nodeName } = e.currentTarget;\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n    if (isAnchorNodeName && isModifiedEvent(e)) {\n        // ignore click for browser’s default behavior\n        return true;\n    }\n    return false;\n}\n// This is a wrapper around next/link that explicitly uses the router APIs\n// to navigate, and trigger a view transition.\nfunction Link(props) {\n    const router = useTransitionRouter();\n    const { href, as, replace, scroll } = props;\n    const onClick = useCallback((e)=>{\n        if (props.onClick) {\n            props.onClick(e);\n        }\n        if ('startViewTransition' in document) {\n            if (shouldPreserveDefault(e)) {\n                return;\n            }\n            e.preventDefault();\n            const navigate = replace ? router.replace : router.push;\n            navigate(as || href, {\n                scroll: scroll != null ? scroll : true\n            });\n        }\n    }, [\n        props.onClick,\n        href,\n        as,\n        replace,\n        scroll\n    ]);\n    return /*#__PURE__*/ jsx(NextLink, _extends({}, props, {\n        onClick: onClick\n    }));\n}\n\nexport { Link, ViewTransitions, useTransitionRouter };\n"],"names":["ScoreGiver","forwardRef","_","ref","score","setScore","useState","lastFilled","setLastFilled","useImperativeHandle","getScore","div","p","className","map","Icon","type","filled","value","onClick","onMouseEnter","onMouseLeave","fillcolor","MakeCommentForm","recipientId","commentRef","useRef","scoreRef","router","useRouter","isLoading","setIsLoading","formOpen","setFormOpen","handleSubmit","e","preventDefault","content","current","response","makeComment","toast","success","message","refresh","error","console","toggleForm","button","form","onSubmit","textarea","name","id","rows","placeholder","disabled","displayName","IconWrapper","props","UserAvatar","src","imageSrc","trim","defaultSrc","aria-label","Image","width","height","alt","getHashSnapshot","window","location","hash","getServerHashSnapshot","subscribeHash","onStoreChange","addEventListener","removeEventListener","ViewTransitionsContext","createContext","ViewTransitions","children","finishViewTransition","setFinishViewTransition","useEffect","useBrowserNativeTransitions","pathname","usePathname","currentPathname","currentViewTransition","setCurrentViewTransition","document","onPopState","pendingViewTransitionResolve","pendingViewTransition","Promise","resolve","startViewTransition","use","transitionRef","useSyncExternalStore","jsx","Provider","_extends$1","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_object_without_properties_loose","excluded","sourceKeys","keys","indexOf","useTransitionRouter","triggerTransition","useCallback","useSetFinishViewTransition","cb","onTransitionReady","transition","startTransition","ready","then","href","_param","options","push","replace","useMemo","_extends","Link","as","scroll","shouldPreserveDefault","nodeName","currentTarget","toUpperCase","isModifiedEvent","event","getAttribute","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","navigate","NextLink"],"sourceRoot":"","ignoreList":[5,7]}