(()=>{var e={};e.id=697,e.ids=[697],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var s=r(70260),i=r(28203),l=r(25155),a=r.n(l),n=r(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c=["",{children:["communaute",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,56193)),"C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\app\\communaute\\page.tsx"]}]},{}],auth:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(r.bind(r,91985)),"C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\app\\@auth\\default.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1033)),"C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,89977)),"C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],u=["C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\app\\communaute\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/communaute/page",pathname:"/communaute",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7fe13f6264349238c6e48141c1e4a57ee047053936":()=>s.Y});var s=r(53337)},1193:(e,t,r)=>{Promise.resolve().then(r.bind(r,9797)),Promise.resolve().then(r.bind(r,50250)),Promise.resolve().then(r.bind(r,86382)),Promise.resolve().then(r.bind(r,32360))},43049:(e,t,r)=>{Promise.resolve().then(r.bind(r,8089)),Promise.resolve().then(r.bind(r,87838)),Promise.resolve().then(r.bind(r,99318)),Promise.resolve().then(r.bind(r,55852))},87838:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(45512),i=r(35748),l=r(79334),a=r(58009);function n({title:e}){let t="",[r,n]=(0,a.useState)(!1),o=(0,l.useRouter)(),c=(0,l.useSearchParams)(),[u,d]=(0,a.useState)(c.get("search")||"");switch((0,a.useCallback)(e=>{let t=new URLSearchParams(c.toString());e?t.set("search",e):t.delete("search"),o.push(`?${t.toString()}`)},[c,o]),e){case"users":t="Un nom ? Une ville ?";break;case"events":t="mot cl\xe9, lieu, date ?";break;case"messages":t="Un conversation ? Un sujet ?";break;case"all":t="Un mot cl\xe9, un contact, une t\xe2che ?";break;default:t="Un mot cl\xe9 ?"}return(0,s.jsxs)("div",{className:"relative flex w-full max-w-[500px] overflow-visible",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,s.jsx)("input",{type:"search",value:u,onChange:e=>{d(e.target.value)},placeholder:t,className:"w-full h-10 p-5 text-xl placeholder:select-none dark:placeholder:text-dark-greenLight/50 border-2 border-dark-bg dark:bg-dark-bg dark:border-light-grey rounded-lg"}),(0,s.jsx)(i.In,{onClick:()=>n(!r),type:"search",width:40})]}),r&&(0,s.jsxs)("div",{className:"absolute select-none z-50 top-12 right-0 w-full dark:bg-dark-bg bg-light-blue border border-light-grey rounded-lg shadow-lg p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4 text-light-grey",children:"Filtrer et Trier"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"sort",className:"block text-sm text-light-grey mb-2",children:"Trier par"}),(0,s.jsxs)("select",{id:"sort",className:"newEventInput",children:[(0,s.jsx)("option",{value:"date",children:"Plus r\xe9cent"}),(0,s.jsx)("option",{value:"popularit\xe9",children:"Plus populaire"}),(0,s.jsx)("option",{value:"proximit\xe9",children:"Plus ancien"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"category",className:"text-sm text-light-grey mb-2 sm:hidden",children:"Cat\xe9gorie"}),(0,s.jsxs)("select",{id:"category",className:"newEventInput sm:hidden",children:[(0,s.jsx)("option",{value:"toutes",children:"Toutes les cat\xe9gories"}),(0,s.jsx)("option",{value:"culture",children:"Culture"}),(0,s.jsx)("option",{value:"sport",children:"Sport"}),(0,s.jsx)("option",{value:"\xe9ducation",children:"\xc9ducation"})]})]}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"w-full p-2 bg-light-yellow text-dark-bg font-bold rounded-lg hover:bg-light-yellow/80",children:"Appliquer"})]})]})]})}},55852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{UserAvatar:()=>l});var s=r(45512),i=r(45103);let l=({className:e,src:t,onClick:r})=>{let l=t&&t.trim()?t:"/images/DefaultUserAvatar1.png";return(0,s.jsx)("div",{className:`${e||"size-12"} ${r?"cursor-pointer":""} relative overflow-hidden rounded-full`,onClick:r,"aria-label":"User avatar",children:(0,s.jsx)(i.default,{width:350,height:350,src:l,className:"rounded-full border border-card object-cover overflow-hidden",alt:"user avatar"})})}},4858:(e,t,r)=>{"use strict";r.d(t,{K:()=>l});var s=r(39290),i=r(2121);let l=async e=>{let t=await (0,s.j2)();if(!t)return console.error("selectAllBasicUserInfos: no session found"),[];try{let r=await (0,i.ZR)();if(!r)return[];if(!e)return r.filter(e=>e.id!==t?.user?.id&&null!==e.username&&null!==e.email&&null!==e.image&&null!==e.description);return r.filter(t=>!!(t.username?.toLowerCase().includes(e.toLowerCase())||t.email?.toLowerCase().includes(e.toLowerCase())))}catch(e){return console.error(e),[]}}},56193:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(62740),i=r(4858),l=r(70068),a=r(68169);async function n({searchParams:e}){let{search:t}=await e,r=await (0,i.K)(t);return(0,s.jsx)("div",{className:"flex justify-start items-start mt-10 min-h-screen gap-10 max-w-max w-full mx-auto",children:(0,s.jsxs)("section",{className:"animate-scroll w-full max-w-[1000px] mx-auto flex flex-col items-center justify-center mt-5",children:[(0,s.jsx)(l.A,{title:"Communaut\xe9",searchType:"users"}),(0,s.jsx)("div",{className:"w-full flex flex-wrap gap-10 mt-5 mb-10",children:r.map(e=>(0,s.jsx)(a.A,{user:e},e.id))})]})})}},70068:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(62740),i=r(50250);function l({title:e,searchType:t}){return(0,s.jsxs)("div",{className:"relative z-20 flex flex-col gap-5 w-[95%] mx-auto mb-5 4xl:mb-10 4xl:mt-20 flex-wrap overflow-visible",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-light-borderCards dark:text-light-grey",children:e}),(0,s.jsx)(i.default,{title:t})]})}},42715:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(62740);r(76301);var i=r(9797);function l({ranting:e,starWidth:t}){let r=Array.from({length:e},(e,r)=>(0,s.jsx)(i.default,{type:"star",cursor:"default",strokeWidth:1,width:t||25,color:"black",className:" fill-light-yellow"},r)),l=0;for(;l<5-e;)r.push((0,s.jsx)(i.default,{type:"star",cursor:"default",strokeWidth:1,color:"black",width:t||25,className:" dark:fill-light-grey/50"},l+10)),l++;return(0,s.jsx)("div",{className:"flex flex-col justify-center items-center w-fit",children:(0,s.jsx)("div",{className:"flex gap-1 items-center",children:r})})}},50250:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Documents\\\\Hi world\\\\ADRAR 2024\\\\Fil Rouge\\\\components\\\\ui\\\\SearchBar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\components\\ui\\SearchBar.tsx","default")},68169:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(62740),i=r(32360),l=r(86382),a=r(42715);function n({user:e}){return(0,s.jsxs)(l.Link,{className:"user-card",href:`/communaute/profile/${e.id}`,children:[(0,s.jsx)(i.UserAvatar,{className:"size-32",src:e.image}),(0,s.jsx)("h3",{className:"text-xl font-semibold",children:e.username}),(0,s.jsx)(a.A,{ranting:e._count.Ratings}),e._count.EventsCreated," \xe9v\xe9nements cr\xe9\xe9s",(0,s.jsx)("p",{className:"mt-1 line-clamp-2",children:e.description})]})}},11587:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(96330);let i=globalThis.prismaGlobal??new s.PrismaClient},32360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{UserAvatar:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call UserAvatar() from the server but UserAvatar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Documents\\Hi world\\ADRAR 2024\\Fil Rouge\\public\\images\\UserAvatar.tsx","UserAvatar")},2121:(e,t,r)=>{"use strict";r.d(t,{Vg:()=>l,ZR:()=>i});var s=r(11587);let i=async()=>{try{return await s.A.user.findMany({select:{id:!0,email:!0,username:!0,image:!0,description:!0,_count:{select:{Ratings:!0,EventsCreated:!0}}}})}catch(e){return console.error("selectAllUsersService",e),null}},l=async({id:e})=>{if(!e||"string"!=typeof e)return null;try{let t=await s.A.user.findUnique({where:{id:e},select:{id:!0,email:!0,username:!0,image:!0,description:!0,EventsCreated:{select:{id:!0,title:!0,description:!0,eventStart:!0,eventEnd:!0,isPublic:!0,image:!0,createdAt:!0,updatedAt:!0,formattedAddress:!0,conversation:{select:{id:!0}},participants:{select:{userId:!0}},category:{select:{id:!0,title:!0}},UserInvitations:!0,Tasks:!0},orderBy:{eventStart:"asc"}},EventsJoined:{select:{event:{select:{id:!0,title:!0,description:!0,user:{select:{id:!0,username:!0,image:!0}},eventStart:!0,eventEnd:!0,isPublic:!0,image:!0,createdAt:!0,updatedAt:!0,formattedAddress:!0,conversation:{select:{id:!0}},category:{select:{id:!0,title:!0}},_count:{select:{participants:!0}}}}}},Tasks:!0,CommentsReceived:{select:{id:!0,createdAt:!0,updatedAt:!0,content:!0,recipientId:!0,author:{select:{id:!0,username:!0,image:!0}},rating:{select:{score:!0}}}}}});if(!t)return null;return t}catch(e){return console.error("selectUserDataService",e),null}}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[87,895,103,899],()=>r(264));module.exports=s})();